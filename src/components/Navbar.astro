---
const navLinks = [
  { name: 'Inicio', href: '#inicio' },
  { name: 'Sobre m√≠', href: '#sobre-mi' },
  { name: 'Tratamientos', href: '#tratamientos' },
  // { name: 'Testimonios', href: '#testimonios' },
  { name: 'Contacto', href: '#contacto' },
];

const whatsappNumber = '528991198089';
const whatsappMessage = encodeURIComponent('Hola Dra. Vanessa, vi tu p√°gina web y me gustar√≠a agendar una cita. üòä');
const whatsappLink = `https://wa.me/${whatsappNumber}?text=${whatsappMessage}`;
---

<nav id="navbar" class="fixed top-0 left-0 right-0 z-50 transition-all duration-500">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-18 lg:h-20">

      <!-- Logo -->
      <a href="#inicio" class="flex items-center gap-2 group">
        <span class="text-2xl lg:text-3xl font-[var(--font-heading)] tracking-tight text-dark transition-colors duration-300 flex gap-1.5">
          <span class="font-extrabold group-hover:text-lavender-500 transition-colors duration-300">Vanessa</span>
          <span class="font-normal text-lavender-600 group-hover:text-lavender-500 transition-colors duration-300">Hern√°ndez</span>
        </span>
      </a>

      <!-- Desktop Nav Links -->
      <div class="hidden lg:flex items-center gap-8">
        {navLinks.map(link => (
          <a
            href={link.href}
            class="text-sm font-medium text-gray-soft hover:text-lavender-500 transition-colors duration-300 relative after:content-[''] after:absolute after:bottom-[-4px] after:left-0 after:w-0 after:h-[2px] after:bg-lavender-400 after:transition-all after:duration-300 hover:after:w-full"
          >
            {link.name}
          </a>
        ))}
        <a
          href={whatsappLink}
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center gap-2 border-2 border-lavender-400 text-lavender-500 hover:bg-lavender-50 hover:text-lavender-600 px-5 py-2.5 rounded-full text-sm font-semibold transition-all duration-300 hover:shadow-lg hover:shadow-lavender-200/50 hover:-translate-y-0.5"
        >
          <span class="material-symbols-rounded text-[18px]">calendar_month</span>
          Agendar Cita
        </a>
      </div>

      <!-- Mobile Menu Button -->
      <button
        id="mobile-menu-btn"
        class="lg:hidden relative w-10 h-10 flex items-center justify-center rounded-lg hover:bg-lavender-100 transition-colors duration-300"
        aria-label="Abrir men√∫"
      >
        <div class="flex flex-col gap-1.5 w-5" id="hamburger-icon">
          <span class="block h-0.5 w-full bg-dark transition-all duration-300 origin-center"></span>
          <span class="block h-0.5 w-full bg-dark transition-all duration-300"></span>
          <span class="block h-0.5 w-full bg-dark transition-all duration-300 origin-center"></span>
        </div>
      </button>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div
    id="mobile-menu"
    class="lg:hidden fixed inset-0 top-18 bg-white/95 backdrop-blur-xl z-40 flex flex-col items-center justify-start pt-12 gap-6 transform translate-x-full transition-transform duration-500 ease-in-out"
  >
    {navLinks.map(link => (
      <a
        href={link.href}
        class="mobile-nav-link text-xl font-medium text-dark hover:text-lavender-500 transition-colors duration-300"
      >
        {link.name}
      </a>
    ))}
    <a
      href={whatsappLink}
      target="_blank"
      rel="noopener noreferrer"
      class="mobile-nav-link inline-flex items-center gap-2 bg-lavender-400 hover:bg-lavender-500 text-white px-8 py-3 rounded-full text-base font-semibold transition-all duration-300 mt-4"
    >
      <span class="material-symbols-rounded text-[20px]">calendar_month</span>
      Agendar Cita
    </a>
  </div>
</nav>

<script>
  // Scroll-aware navbar background
  const navbar = document.getElementById('navbar');
  const handleScroll = () => {
    if (window.scrollY > 50) {
      navbar?.classList.add('bg-white/90', 'backdrop-blur-xl', 'shadow-sm');
    } else {
      navbar?.classList.remove('bg-white/90', 'backdrop-blur-xl', 'shadow-sm');
    }
  };
  window.addEventListener('scroll', handleScroll);
  handleScroll();

  // Mobile menu toggle
  const menuBtn = document.getElementById('mobile-menu-btn');
  const mobileMenu = document.getElementById('mobile-menu');
  const hamburgerLines = document.querySelectorAll('#hamburger-icon span');
  let isOpen = false;

  menuBtn?.addEventListener('click', () => {
    isOpen = !isOpen;
    if (isOpen) {
      mobileMenu?.classList.remove('translate-x-full');
      mobileMenu?.classList.add('translate-x-0');
      hamburgerLines[0]?.classList.add('rotate-45', 'translate-y-[4px]');
      hamburgerLines[1]?.classList.add('opacity-0');
      hamburgerLines[2]?.classList.add('-rotate-45', '-translate-y-[4px]');
      document.body.style.overflow = 'hidden';
    } else {
      mobileMenu?.classList.remove('translate-x-0');
      mobileMenu?.classList.add('translate-x-full');
      hamburgerLines[0]?.classList.remove('rotate-45', 'translate-y-[4px]');
      hamburgerLines[1]?.classList.remove('opacity-0');
      hamburgerLines[2]?.classList.remove('-rotate-45', '-translate-y-[4px]');
      document.body.style.overflow = '';
    }
  });

  // Close mobile menu on link click
  document.querySelectorAll('.mobile-nav-link').forEach(link => {
    link.addEventListener('click', () => {
      isOpen = false;
      mobileMenu?.classList.remove('translate-x-0');
      mobileMenu?.classList.add('translate-x-full');
      hamburgerLines[0]?.classList.remove('rotate-45', 'translate-y-[4px]');
      hamburgerLines[1]?.classList.remove('opacity-0');
      hamburgerLines[2]?.classList.remove('-rotate-45', '-translate-y-[4px]');
      document.body.style.overflow = '';
    });
  });
</script>
